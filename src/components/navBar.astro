---
import ThemeToggle from './ThemeToggle.astro'

const LINKS = [
  {
    href: '/#proyectos',
    title: 'Proyectos'
  },
  {
    href: '/#sobre-mi',
    title: 'Sobre m√≠'
  },
  {
    href: 'mailto:daniel.barrera02121@hotmail.com',
    title: 'Contacto'
  }
]
---

<header id="NavBar" class="py-5 sticky inset-0 z-10 transition-all">
  <nav>
    <ul class="flex gap-4 justify-center">
      {
        LINKS.map((link) => (
          <li>
            <a
              class="hover:font-semibold relative group transition-all text-neutral-800 dark:text-neutral-300"
              title={link.title}
              href={link.href}
            >
              {link.title}
              <div class="absolute w-full h-0.5 bg-neutral-800 dark:bg-neutral-300 scale-x-0 group-hover:scale-x-100 transition-transform" />
            </a>
          </li>
        ))
      }
      <li>
        <ThemeToggle />
      </li>
    </ul>
  </nav>
</header>

<style>
  a::before {
    display: block;
    content: attr(title);
    font-weight: bold;
    height: 0;
    overflow: hidden;
  }

  header {
    animation: nav-shadown 1s linear both;
    animation-timeline: scroll();
    animation-range: 0 100px;
  }
  header {
    @apply bg-white/60 dark:bg-black/60;
  }
  @keyframes nav-shadown {
    0% {
      @apply bg-white/0 dark:bg-black/0;
    }
    to {
      @apply shadow-lg backdrop-blur rounded-xl;
    }
  }
</style>

<!-- <script>
  const $NavBar = document.getElementById('NavBar')
  let isScrolled = false

  function handleScroll() {
    if (window.scrollY > 50 && !isScrolled) {
      $NavBar?.classList.add(
        'backdrop-blur',
        'bg-white',
        'dark:bg-black',
        'bg-opacity-60',
        'dark:bg-opacity-60'
      )
      isScrolled = true
    } else if (window.scrollY <= 50 && isScrolled) {
      $NavBar?.classList.remove(
        'backdrop-blur',
        'bg-white',
        'dark:bg-black',
        'bg-opacity-60',
        'dark:bg-opacity-60'
      )
      isScrolled = false
    }
  }

  window.addEventListener('DOMContentLoaded', handleScroll)
  window.addEventListener('scroll', handleScroll, { passive: true })
</script> -->
